---
title: 启动流程
date: 2025-11-17 22:23:51
tags:
---
开机时，CPU的cs：ip寄存器被强制初始化为0xF000：0xFFF0。这时候cpu处于实模式，段基址要乘以16，也就是左移4位，于是0xF000：0xFFF0的等效地址将是0xFFFF0。此地址是BIOS的入口地址。
随后，该地址的内容是一条远跳转指令，将ip寄存器指向0xf000：e05b，顺便刷新cs寄存器。
执行完后，ip寄存器指向0x7c00，从硬盘的0磁盘0道1扇区读取mbr并开始执行。
a20地址线、cr0寄存器、gdt全局描述符表。
然后加载内核，远跳转后进入保护模式。